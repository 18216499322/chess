{"version":3,"sources":["assets\\script\\Tip.js"],"names":["cc","Class","Component","properties","onLoad","node","on","Node","EventType","TOUCH_START","e","enemyName","des_x","x","des_y","y","pre_node","find","curName","pre_x","pre_y","cur_i","cur_j","pre_i","pre_j","gameMap","active","substr","getComponent","playWin","host","playEat","playMove","tip","forEach","item","splice","length","pre_obj","i","j","name","cur_obj","stack","push","myJiang","mj_x","mj_y","mj_i","mj_j","top","bottom","left","right","ma_top","ma_bottom","ma_left","ma_right","pao_top","pao_bottom","pao_left","pao_right","zu_top","zu_left","zu_right","zu_bottom","enemyJiang","j_x","j_y","j_i","j_j","hasChess","playPromote","k","show","slice","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START,\r\n            function(e){\r\n                enemyName = null;\r\n                des_x = this.node.x;//目标位置\r\n                des_y = this.node.y;\r\n                pre_node = cc.find(\"Canvas/game_bg/grid/chess/\"+curName);\r\n                pre_x = pre_node.x;\r\n                pre_y = pre_node.y;\r\n                //检查当前位置是否有敌方棋子\r\n                cur_i = des_y>0?(des_y-30)/60+5:(des_y+30)/60+4;//目标逻辑坐标\r\n                cur_j = des_x/68+4;\r\n                pre_i = pre_y>0?(pre_y-30)/60+5:(pre_y+30)/60+4;//先前逻辑坐标\r\n                pre_j = pre_x/68+4;\r\n                if(gameMap[cur_i][cur_j]!=0){\r\n                    cc.find(\"Canvas/game_bg/grid/chess/\"+gameMap[cur_i][cur_j]).active = false;\r\n                    enemyName = gameMap[cur_i][cur_j];\r\n                    if(gameMap[cur_i][cur_j].substr(2,1)=='j'){\r\n                        cc.find(\"music\").getComponent(\"Music\").playWin();\r\n                        cc.find(\"Canvas/game_bg/end_\"+host).active = true;\r\n                        return;\r\n                    }else{\r\n                        cc.find(\"music\").getComponent(\"Music\").playEat();\r\n                    }\r\n                }else{\r\n                    cc.find(\"music\").getComponent(\"Music\").playMove();\r\n                }\r\n                pre_node.x = des_x;\r\n                pre_node.y = des_y;\r\n                gameMap[pre_i][pre_j] = 0;\r\n                gameMap[cur_i][cur_j] = curName;\r\n                //去掉所有的提示棋子\r\n                tip.forEach(function(item){\r\n                    cc.find(item).active = false;\r\n                });\r\n                tip.splice(0,tip.length);\r\n                //移动信息存放栈内\r\n                pre_obj = {\r\n                    x:pre_x,\r\n                    y:pre_y,\r\n                    i:pre_i,\r\n                    j:pre_j,\r\n                    name:curName\r\n                };\r\n                cur_obj = {\r\n                    x:des_x,\r\n                    y:des_y,\r\n                    i:cur_i,\r\n                    j:cur_j,\r\n                    name:curName,\r\n                    enemyName:enemyName\r\n                };\r\n                stack.push(pre_obj);\r\n                stack.push(cur_obj);\r\n                myJiang = cc.find(\"Canvas/game_bg/grid/chess/\"+host+\"_j\");\r\n                mj_x = myJiang.x;\r\n                mj_y = myJiang.y;\r\n                mj_i = mj_y>0?(mj_y-30)/60+5:(mj_y+30)/60+4;//目标逻辑坐标\r\n                mj_j = mj_x/68+4;\r\n                if(host == 'r'){\r\n                    host = 'b';\r\n                }else{\r\n                    host = 'r';\r\n                }\r\n                if(curName.substr(2,1)=='c'){\r\n                    this.top(cur_i+1,cur_j);\r\n                    this.bottom(cur_i-1,cur_j);\r\n                    this.left(cur_i,cur_j-1);\r\n                    this.right(cur_i,cur_j+1);\r\n                }\r\n                if(curName.substr(2,1)=='m'){\r\n                    this.ma_top(cur_i+1,cur_j);\r\n                    this.ma_bottom(cur_i-1,cur_j);\r\n                    this.ma_left(cur_i,cur_j-1);\r\n                    this.ma_right(cur_i,cur_j+1);\r\n                }\r\n                if(curName.substr(2,1)=='p'){\r\n                    this.pao_top(cur_i+1,cur_j,0);\r\n                    this.pao_bottom(cur_i-1,cur_j,0);\r\n                    this.pao_left(cur_i,cur_j-1,0);\r\n                    this.pao_right(cur_i,cur_j+1,0);\r\n                }\r\n                if(curName.substr(2,1)=='z'){\r\n                    if(host=='b'){\r\n                        this.zu_top(cur_i+1,cur_j);\r\n                        this.zu_left(cur_i,cur_j-1);\r\n                        this.zu_right(cur_i,cur_j+1);\r\n                    }else{\r\n                        this.zu_bottom(cur_i-1,cur_j);\r\n                        this.zu_left(cur_i,cur_j-1);\r\n                        this.zu_right(cur_i,cur_j+1);\r\n                    }\r\n                }\r\n                enemyJiang = cc.find(\"Canvas/game_bg/grid/chess/\"+host+\"_j\");\r\n                j_x = enemyJiang.x;\r\n                j_y = enemyJiang.y;\r\n                j_i = j_y>0?(j_y-30)/60+5:(j_y+30)/60+4;//目标逻辑坐标\r\n                j_j = j_x/68+4;\r\n                if(curName.substr(2,1)=='j'){\r\n                    if(cur_j==j_j){\r\n                        var hasChess = true;\r\n                        for(var i=(j_i>cur_i?cur_i+1:j_i+1);i<=(j_i>cur_i?j_i-1:cur_i-1);i++){\r\n                            if(gameMap[i][cur_j]!=0){\r\n                                hasChess = false;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if(hasChess){\r\n                            cc.find(\"music\").getComponent(\"Music\").playWin();\r\n                            cc.find(\"Canvas/game_bg/end_\"+host).active = true;\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                if(pre_j==j_j&&mj_j==j_j){\r\n                    var hasChess = true;\r\n                    for(var i=(j_i>mj_i?mj_i+1:j_i+1);i<=(j_i>mj_i?j_i-1:mj_i-1);i++){\r\n                        if(gameMap[i][pre_j]!=0){\r\n                            hasChess = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(hasChess){\r\n                        cc.find(\"music\").getComponent(\"Music\").playWin();\r\n                        cc.find(\"Canvas/game_bg/end_\"+host).active = true;\r\n                    }\r\n                }\r\n            },this);\r\n    },\r\n\r\n    zu_top(x,y){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n            cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            return;\r\n        }\r\n    },\r\n\r\n    zu_bottom(x,y){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n            cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            return;\r\n        }\r\n    },\r\n\r\n    zu_left(x,y){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n            cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            return;\r\n        }\r\n    },\r\n\r\n    zu_right(x,y){\r\n        if(y>=9)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n            cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            return;\r\n        }\r\n    },\r\n\r\n    pao_top(x,y,k){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_top(x+1,y,k);\r\n    },\r\n\r\n    pao_bottom(x,y,k){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_bottom(x-1,y,k);\r\n    },\r\n\r\n    pao_left(x,y,k){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_left(x,y-1,k);\r\n    },\r\n\r\n    pao_right(x,y,k){\r\n        if(y>=9)return;\r\n        // if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)==host)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_right(x,y+1,k);\r\n    },\r\n\r\n    ma_top(x,y){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(y-1>=0){\r\n            if(x+1<=9){\r\n                if(gameMap[x+1][y-1]!=0&&gameMap[x+1][y-1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(y+1<=8){\r\n            if(x+1<=9){\r\n                if(gameMap[x+1][y+1]!=0&&gameMap[x+1][y+1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    ma_bottom(x,y){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(y-1>=0){\r\n            if(x-1>=0){\r\n                if(gameMap[x-1][y-1]!=0&&gameMap[x-1][y-1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(y+1<=8){\r\n            if(x-1>=0){\r\n                if(gameMap[x-1][y+1]!=0&&gameMap[x-1][y+1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    ma_left(x,y){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(x+1<=9){\r\n            if(y-1>=0){\r\n                if(gameMap[x+1][y-1]!=0&&gameMap[x+1][y-1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(x-1>=0){\r\n            if(y-1>=0){\r\n                if(gameMap[x-1][y-1]!=0&&gameMap[x-1][y-1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote(); \r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    ma_right(x,y){\r\n        if(y>=9)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(x+1<=9){\r\n            if(y+1<=8){\r\n                if(gameMap[x+1][y+1]!=0&&gameMap[x+1][y+1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(x-1>=0){\r\n            if(y+1<=8){\r\n                if(gameMap[x-1][y+1]!=0&&gameMap[x-1][y+1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    show(x,y){\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(0,1)==host){\r\n            if(gameMap[x][y].substr(2,1)=='j'){\r\n                cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            }\r\n            return true;\r\n        };\r\n        return false;\r\n    },\r\n\r\n    top(x,y){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.top(x+1,y);\r\n    },\r\n\r\n    bottom(x,y){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.bottom(x-1,y);\r\n    },\r\n\r\n    left(x,y){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.left(x,y-1);\r\n    },\r\n\r\n    right(x,y){\r\n        if(y>=9)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.right(x,y+1);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}