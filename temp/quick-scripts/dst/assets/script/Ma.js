
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/Ma.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dc4b51ITX5MN7Ra4nntfzwq', 'Ma');
// script/Ma.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    chessType: ""
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.node.on(cc.Node.EventType.TOUCH_START, function (e) {
      var name = null;
      var loc_x = null;
      var loc_y = null;
      var x = null;
      var y = null;
      name = this.node.name;
      loc_x = this.node.x; //实际坐标

      loc_y = this.node.y;
      x = loc_y > 0 ? (loc_y - 30) / 60 + 5 : (loc_y + 30) / 60 + 4; //逻辑坐标

      y = loc_x / 68 + 4;
      tip.forEach(function (item) {
        cc.find(item).active = false;
      });
      tip.splice(0, tip.length);

      if (host == this.chessType) {
        curName = this.node.name;
        this.top(x + 1, y);
        this.bottom(x - 1, y);
        this.left(x, y - 1);
        this.right(x, y + 1);
      }
    }, this);
  },
  top: function top(x, y) {
    if (x >= 10) return;
    if (gameMap[x][y] != 0) return;

    if (y - 1 >= 0) {
      if (x + 1 <= 9) {
        if (gameMap[x + 1][y - 1] != 0 && gameMap[x + 1][y - 1].slice(0, 1) != host || gameMap[x + 1][y - 1] == 0) {
          cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x + 1) * 9 + y)).active = true;
          tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x + 1) * 9 + y));
        }
      }
    }

    if (y + 1 <= 8) {
      if (x + 1 <= 9) {
        if (gameMap[x + 1][y + 1] != 0 && gameMap[x + 1][y + 1].slice(0, 1) != host || gameMap[x + 1][y + 1] == 0) {
          cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x + 1) * 9 + y + 2)).active = true;
          tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x + 1) * 9 + y + 2));
        }
      }
    }
  },
  bottom: function bottom(x, y) {
    if (x < 0) return;
    if (gameMap[x][y] != 0) return;

    if (y - 1 >= 0) {
      if (x - 1 >= 0) {
        if (gameMap[x - 1][y - 1] != 0 && gameMap[x - 1][y - 1].slice(0, 1) != host || gameMap[x - 1][y - 1] == 0) {
          cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x - 1) * 9 + y)).active = true;
          tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x - 1) * 9 + y));
        }
      }
    }

    if (y + 1 <= 8) {
      if (x - 1 >= 0) {
        if (gameMap[x - 1][y + 1] != 0 && gameMap[x - 1][y + 1].slice(0, 1) != host || gameMap[x - 1][y + 1] == 0) {
          cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x - 1) * 9 + y + 2)).active = true;
          tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x - 1) * 9 + y + 2));
        }
      }
    }
  },
  left: function left(x, y) {
    if (y < 0) return;
    if (gameMap[x][y] != 0) return;

    if (x + 1 <= 9) {
      if (y - 1 >= 0) {
        if (gameMap[x + 1][y - 1] != 0 && gameMap[x + 1][y - 1].slice(0, 1) != host || gameMap[x + 1][y - 1] == 0) {
          cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x + 1) * 9 + y)).active = true;
          tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x + 1) * 9 + y));
        }
      }
    }

    if (x - 1 >= 0) {
      if (y - 1 >= 0) {
        if (gameMap[x - 1][y - 1] != 0 && gameMap[x - 1][y - 1].slice(0, 1) != host || gameMap[x - 1][y - 1] == 0) {
          cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x - 1) * 9 + y)).active = true;
          tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x - 1) * 9 + y));
        }
      }
    }
  },
  right: function right(x, y) {
    if (y >= 9) return;
    if (gameMap[x][y] != 0) return;

    if (x + 1 <= 9) {
      if (y + 1 <= 8) {
        if (gameMap[x + 1][y + 1] != 0 && gameMap[x + 1][y + 1].slice(0, 1) != host || gameMap[x + 1][y + 1] == 0) {
          cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x + 1) * 9 + y + 2)).active = true;
          tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x + 1) * 9 + y + 2));
        }
      }
    }

    if (x - 1 >= 0) {
      if (y + 1 <= 8) {
        if (gameMap[x - 1][y + 1] != 0 && gameMap[x - 1][y + 1].slice(0, 1) != host || gameMap[x - 1][y + 1] == 0) {
          cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x - 1) * 9 + y + 2)).active = true;
          tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + ((x - 1) * 9 + y + 2));
        }
      }
    }
  },
  start: function start() {} // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFxNYS5qcyJdLCJuYW1lcyI6WyJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsImNoZXNzVHlwZSIsIm9uTG9hZCIsIm5vZGUiLCJvbiIsIk5vZGUiLCJFdmVudFR5cGUiLCJUT1VDSF9TVEFSVCIsImUiLCJuYW1lIiwibG9jX3giLCJsb2NfeSIsIngiLCJ5IiwidGlwIiwiZm9yRWFjaCIsIml0ZW0iLCJmaW5kIiwiYWN0aXZlIiwic3BsaWNlIiwibGVuZ3RoIiwiaG9zdCIsImN1ck5hbWUiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJnYW1lTWFwIiwic2xpY2UiLCJwdXNoIiwic3RhcnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0FBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxTQUFTLEVBQUM7QUFERixHQUhQO0FBT0w7QUFFQUMsRUFBQUEsTUFUSyxvQkFTSztBQUNOLFNBQUtDLElBQUwsQ0FBVUMsRUFBVixDQUFhUCxFQUFFLENBQUNRLElBQUgsQ0FBUUMsU0FBUixDQUFrQkMsV0FBL0IsRUFDSSxVQUFTQyxDQUFULEVBQVc7QUFDUCxVQUFJQyxJQUFJLEdBQUcsSUFBWDtBQUNBLFVBQUlDLEtBQUssR0FBRyxJQUFaO0FBQ0EsVUFBSUMsS0FBSyxHQUFHLElBQVo7QUFDQSxVQUFJQyxDQUFDLEdBQUcsSUFBUjtBQUNBLFVBQUlDLENBQUMsR0FBRyxJQUFSO0FBQ0FKLE1BQUFBLElBQUksR0FBRyxLQUFLTixJQUFMLENBQVVNLElBQWpCO0FBQ0FDLE1BQUFBLEtBQUssR0FBRyxLQUFLUCxJQUFMLENBQVVTLENBQWxCLENBUE8sQ0FPYTs7QUFDcEJELE1BQUFBLEtBQUssR0FBRyxLQUFLUixJQUFMLENBQVVVLENBQWxCO0FBQ0FELE1BQUFBLENBQUMsR0FBR0QsS0FBSyxH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LENBQW5CLElBQXNCYyxPQUFPLENBQUNmLENBQUMsR0FBQyxDQUFILENBQVAsQ0FBYUMsQ0FBQyxHQUFDLENBQWYsRUFBa0JlLEtBQWxCLENBQXdCLENBQXhCLEVBQTBCLENBQTFCLEtBQThCUCxJQUFwRCxJQUEwRE0sT0FBTyxDQUFDZixDQUFDLEdBQUMsQ0FBSCxDQUFQLENBQWFDLENBQUMsR0FBQyxDQUFmLEtBQW1CLENBQWhGLEVBQWtGO0FBQzlFaEIsVUFBQUEsRUFBRSxDQUFDb0IsSUFBSCxDQUFRLHlCQUF1QkksSUFBdkIsR0FBNEIsTUFBNUIsR0FBbUMsR0FBbkMsR0FBdUNBLElBQXZDLEdBQTRDLE1BQTVDLElBQW9ELENBQUNULENBQUMsR0FBQyxDQUFILElBQU0sQ0FBTixHQUFRQyxDQUFSLEdBQVUsQ0FBOUQsQ0FBUixFQUEwRUssTUFBMUUsR0FBbUYsSUFBbkY7QUFDQUosVUFBQUEsR0FBRyxDQUFDZSxJQUFKLENBQVMseUJBQXVCUixJQUF2QixHQUE0QixNQUE1QixHQUFtQyxHQUFuQyxHQUF1Q0EsSUFBdkMsR0FBNEMsTUFBNUMsSUFBb0QsQ0FBQ1QsQ0FBQyxHQUFDLENBQUgsSUFBTSxDQUFOLEdBQVFDLENBQVIsR0FBVSxDQUE5RCxDQUFUO0FBQ0g7QUFDSjtBQUNKO0FBQ0osR0F0SEk7QUF3SExpQixFQUFBQSxLQXhISyxtQkF3SEksQ0FFUixDQTFISSxDQTRITDs7QUE1SEssQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgY2hlc3NUeXBlOlwiXCJcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvY194ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHZhciBsb2NfeSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gdGhpcy5ub2RlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICBsb2NfeCA9IHRoaXMubm9kZS54Oy8v5a6e6ZmF5Z2Q5qCHXHJcbiAgICAgICAgICAgICAgICBsb2NfeSA9IHRoaXMubm9kZS55O1xyXG4gICAgICAgICAgICAgICAgeCA9IGxvY195PjA/KGxvY195LTMwKS82MCs1Oihsb2NfeSszMCkvNjArNDsvL+mAu+i+keWdkOagh1xyXG4gICAgICAgICAgICAgICAgeSA9IGxvY194LzY4KzQ7XHJcbiAgICAgICAgICAgICAgICB0aXAuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgICAgICBjYy5maW5kKGl0ZW0pLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aXAuc3BsaWNlKDAsdGlwLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBpZihob3N0PT10aGlzLmNoZXNzVHlwZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyTmFtZSA9IHRoaXMubm9kZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9wKHgrMSx5KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvdHRvbSh4LTEseSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWZ0KHgseS0xKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0KHgseSsxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSx0aGlzKTtcclxuICAgIH0sXHJcblxyXG4gICAgdG9wKHgseSl7XHJcbiAgICAgICAgaWYoeD49MTApcmV0dXJuO1xyXG4gICAgICAgIGlmKGdhbWVNYXBbeF1beV0hPTApcmV0dXJuO1xyXG4gICAgICAgIGlmKHktMT49MCl7XHJcbiAgICAgICAgICAgIGlmKHgrMTw9OSl7XHJcbiAgICAgICAgICAgICAgICBpZihnYW1lTWFwW3grMV1beS0xXSE9MCYmZ2FtZU1hcFt4KzFdW3ktMV0uc2xpY2UoMCwxKSE9aG9zdHx8Z2FtZU1hcFt4KzFdW3ktMV09PTApe1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmZpbmQoXCJDYW52YXMvZ2FtZV9iZy9ncmlkL1wiK2hvc3QrXCJfYm94XCIrXCIvXCIraG9zdCtcIl9ib3hcIisoKHgrMSkqOSt5KSkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aXAucHVzaChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvXCIraG9zdCtcIl9ib3hcIitcIi9cIitob3N0K1wiX2JveFwiKygoeCsxKSo5K3kpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih5KzE8PTgpe1xyXG4gICAgICAgICAgICBpZih4KzE8PTkpe1xyXG4gICAgICAgICAgICAgICAgaWYoZ2FtZU1hcFt4KzFdW3krMV0hPTAmJmdhbWVNYXBbeCsxXVt5KzFdLnNsaWNlKDAsMSkhPWhvc3R8fGdhbWVNYXBbeCsxXVt5KzFdPT0wKXtcclxuICAgICAgICAgICAgICAgICAgICBjYy5maW5kKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9cIitob3N0K1wiX2JveFwiK1wiL1wiK2hvc3QrXCJfYm94XCIrKCh4KzEpKjkreSsyKSkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aXAucHVzaChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvXCIraG9zdCtcIl9ib3hcIitcIi9cIitob3N0K1wiX2JveFwiKygoeCsxKSo5K3krMikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBib3R0b20oeCx5KXtcclxuICAgICAgICBpZih4PDApcmV0dXJuO1xyXG4gICAgICAgIGlmKGdhbWVNYXBbeF1beV0hPTApcmV0dXJuO1xyXG4gICAgICAgIGlmKHktMT49MCl7XHJcbiAgICAgICAgICAgIGlmKHgtMT49MCl7XHJcbiAgICAgICAgICAgICAgICBpZihnYW1lTWFwW3gtMV1beS0xXSE9MCYmZ2FtZU1hcFt4LTFdW3ktMV0uc2xpY2UoMCwxKSE9aG9zdHx8Z2FtZU1hcFt4LTFdW3ktMV09PTApe1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmZpbmQoXCJDYW52YXMvZ2FtZV9iZy9ncmlkL1wiK2hvc3QrXCJfYm94XCIrXCIvXCIraG9zdCtcIl9ib3hcIisoKHgtMSkqOSt5KSkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aXAucHVzaChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvXCIraG9zdCtcIl9ib3hcIitcIi9cIitob3N0K1wiX2JveFwiKygoeC0xKSo5K3kpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih5KzE8PTgpe1xyXG4gICAgICAgICAgICBpZih4LTE+PTApe1xyXG4gICAgICAgICAgICAgICAgaWYoZ2FtZU1hcFt4LTFdW3krMV0hPTAmJmdhbWVNYXBbeC0xXVt5KzFdLnNsaWNlKDAsMSkhPWhvc3R8fGdhbWVNYXBbeC0xXVt5KzFdPT0wKXtcclxuICAgICAgICAgICAgICAgICAgICBjYy5maW5kKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9cIitob3N0K1wiX2JveFwiK1wiL1wiK2hvc3QrXCJfYm94XCIrKCh4LTEpKjkreSsyKSkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aXAucHVzaChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvXCIraG9zdCtcIl9ib3hcIitcIi9cIitob3N0K1wiX2JveFwiKygoeC0xKSo5K3krMikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsZWZ0KHgseSl7XHJcbiAgICAgICAgaWYoeTwwKXJldHVybjtcclxuICAgICAgICBpZihnYW1lTWFwW3hdW3ldIT0wKXJldHVybjtcclxuICAgICAgICBpZih4KzE8PTkpe1xyXG4gICAgICAgICAgICBpZih5LTE+PTApe1xyXG4gICAgICAgICAgICAgICAgaWYoZ2FtZU1hcFt4KzFdW3ktMV0hPTAmJmdhbWVNYXBbeCsxXVt5LTFdLnNsaWNlKDAsMSkhPWhvc3R8fGdhbWVNYXBbeCsxXVt5LTFdPT0wKXtcclxuICAgICAgICAgICAgICAgICAgICBjYy5maW5kKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9cIitob3N0K1wiX2JveFwiK1wiL1wiK2hvc3QrXCJfYm94XCIrKCh4KzEpKjkreSkpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlwLnB1c2goXCJDYW52YXMvZ2FtZV9iZy9ncmlkL1wiK2hvc3QrXCJfYm94XCIrXCIvXCIraG9zdCtcIl9ib3hcIisoKHgrMSkqOSt5KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoeC0xPj0wKXtcclxuICAgICAgICAgICAgaWYoeS0xPj0wKXtcclxuICAgICAgICAgICAgICAgIGlmKGdhbWVNYXBbeC0xXVt5LTFdIT0wJiZnYW1lTWFwW3gtMV1beS0xXS5zbGljZSgwLDEpIT1ob3N0fHxnYW1lTWFwW3gtMV1beS0xXT09MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZmluZChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvXCIraG9zdCtcIl9ib3hcIitcIi9cIitob3N0K1wiX2JveFwiKygoeC0xKSo5K3kpKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRpcC5wdXNoKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9cIitob3N0K1wiX2JveFwiK1wiL1wiK2hvc3QrXCJfYm94XCIrKCh4LTEpKjkreSkpOyBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgcmlnaHQoeCx5KXtcclxuICAgICAgICBpZih5Pj05KXJldHVybjtcclxuICAgICAgICBpZihnYW1lTWFwW3hdW3ldIT0wKXJldHVybjtcclxuICAgICAgICBpZih4KzE8PTkpe1xyXG4gICAgICAgICAgICBpZih5KzE8PTgpe1xyXG4gICAgICAgICAgICAgICAgaWYoZ2FtZU1hcFt4KzFdW3krMV0hPTAmJmdhbWVNYXBbeCsxXVt5KzFdLnNsaWNlKDAsMSkhPWhvc3R8fGdhbWVNYXBbeCsxXVt5KzFdPT0wKXtcclxuICAgICAgICAgICAgICAgICAgICBjYy5maW5kKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9cIitob3N0K1wiX2JveFwiK1wiL1wiK2hvc3QrXCJfYm94XCIrKCh4KzEpKjkreSsyKSkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aXAucHVzaChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvXCIraG9zdCtcIl9ib3hcIitcIi9cIitob3N0K1wiX2JveFwiKygoeCsxKSo5K3krMikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHgtMT49MCl7XHJcbiAgICAgICAgICAgIGlmKHkrMTw9OCl7XHJcbiAgICAgICAgICAgICAgICBpZihnYW1lTWFwW3gtMV1beSsxXSE9MCYmZ2FtZU1hcFt4LTFdW3krMV0uc2xpY2UoMCwxKSE9aG9zdHx8Z2FtZU1hcFt4LTFdW3krMV09PTApe1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmZpbmQoXCJDYW52YXMvZ2FtZV9iZy9ncmlkL1wiK2hvc3QrXCJfYm94XCIrXCIvXCIraG9zdCtcIl9ib3hcIisoKHgtMSkqOSt5KzIpKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRpcC5wdXNoKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9cIitob3N0K1wiX2JveFwiK1wiL1wiK2hvc3QrXCJfYm94XCIrKCh4LTEpKjkreSsyKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9LFxyXG59KTtcclxuIl19