
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/Zu.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b7606EmGz9GdbxhW6fBPceq', 'Zu');
// script/Zu.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    chessType: ""
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.node.on(cc.Node.EventType.TOUCH_START, function (e) {
      var name = null;
      var loc_x = null;
      var loc_y = null;
      var x = null;
      var y = null;
      name = this.node.name;
      loc_x = this.node.x; //实际坐标

      loc_y = this.node.y;
      x = loc_y > 0 ? (loc_y - 30) / 60 + 5 : (loc_y + 30) / 60 + 4; //逻辑坐标

      y = loc_x / 68 + 4;
      tip.forEach(function (item) {
        cc.find(item).active = false;
      });
      tip.splice(0, tip.length);

      if (host == this.chessType) {
        curName = this.node.name;

        if (this.chessType == 'r') {
          if (x < 5) {
            this.zu_top(x + 1, y);
          } else {
            this.zu_top(x + 1, y);
            this.zu_left(x, y - 1);
            this.zu_right(x, y + 1);
          }
        } else {
          if (x > 4) {
            this.zu_bottom(x - 1, y);
          } else {
            this.zu_bottom(x - 1, y);
            this.zu_left(x, y - 1);
            this.zu_right(x, y + 1);
          }
        }
      }
    }, this);
  },
  // show(x,y){
  //     if(gameMap[x][y]!=0&&gameMap[x][y].substr(0,1)!=host){
  //         cc.find("Canvas/game_bg/grid/"+host+"_box"+"/"+host+"_box"+(x*9+y+1)).active = true;
  //         tip.push("Canvas/game_bg/grid/"+host+"_box"+"/"+host+"_box"+(x*9+y+1));
  //         return true;
  //     };
  //     cc.find("Canvas/game_bg/grid/"+host+"_box"+"/"+host+"_box"+(x*9+y+1)).active = true;
  //     tip.push("Canvas/game_bg/grid/"+host+"_box"+"/"+host+"_box"+(x*9+y+1));
  //     return false;
  // },
  zu_top: function zu_top(x, y) {
    if (x >= 10) return;
    if (gameMap[x][y] != 0 && gameMap[x][y].slice(0, 1) == host) return;
    cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + (x * 9 + y + 1)).active = true;
    tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + (x * 9 + y + 1));
  },
  zu_bottom: function zu_bottom(x, y) {
    if (x < 0) return;
    if (gameMap[x][y] != 0 && gameMap[x][y].slice(0, 1) == host) return;
    cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + (x * 9 + y + 1)).active = true;
    tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + (x * 9 + y + 1));
  },
  zu_left: function zu_left(x, y) {
    if (y < 0) return;
    if (gameMap[x][y] != 0 && gameMap[x][y].slice(0, 1) == host) return;
    cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + (x * 9 + y + 1)).active = true;
    tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + (x * 9 + y + 1));
  },
  zu_right: function zu_right(x, y) {
    if (y >= 9) return;
    if (gameMap[x][y] != 0 && gameMap[x][y].slice(0, 1) == host) return;
    cc.find("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + (x * 9 + y + 1)).active = true;
    tip.push("Canvas/game_bg/grid/" + host + "_box" + "/" + host + "_box" + (x * 9 + y + 1));
  },
  start: function start() {} // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFxadS5qcyJdLCJuYW1lcyI6WyJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsImNoZXNzVHlwZSIsIm9uTG9hZCIsIm5vZGUiLCJvbiIsIk5vZGUiLCJFdmVudFR5cGUiLCJUT1VDSF9TVEFSVCIsImUiLCJuYW1lIiwibG9jX3giLCJsb2NfeSIsIngiLCJ5IiwidGlwIiwiZm9yRWFjaCIsIml0ZW0iLCJmaW5kIiwiYWN0aXZlIiwic3BsaWNlIiwibGVuZ3RoIiwiaG9zdCIsImN1ck5hbWUiLCJ6dV90b3AiLCJ6dV9sZWZ0IiwienVfcmlnaHQiLCJ6dV9ib3R0b20iLCJnYW1lTWFwIiwic2xpY2UiLCJwdXNoIiwic3RhcnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0FBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxTQUFTLEVBQUM7QUFERixHQUhQO0FBT0w7QUFFQUMsRUFBQUEsTUFUSyxvQkFTSztBQUNOLFNBQUtDLElBQUwsQ0FBVUMsRUFBVixDQUFhUCxFQUFFLENBQUNRLElBQUgsQ0FBUUMsU0FBUixDQUFrQkMsV0FBL0IsRUFDSSxVQUFTQyxDQUFULEVBQVc7QUFDUCxVQUFJQyxJQUFJLEdBQUcsSUFBWDtBQUNBLFVBQUlDLEtBQUssR0FBRyxJQUFaO0FBQ0EsVUFBSUMsS0FBSyxHQUFHLElBQVo7QUFDQSxVQUFJQyxDQUFDLEdBQUcsSUFBUjtBQUNBLFVBQUlDLENBQUMsR0FBRyxJQUFSO0FBQ0FKLE1BQUFBLElBQUksR0FBRyxLQUFLTixJQUFMLENBQVVNLElBQWpCO0FBQ0FDLE1BQUFBLEtBQUssR0FBRyxLQUFLUCxJQUFMLENBQVVTLENBQWxCLENBUE8sQ0FPYTs7QUFDcEJELE1BQUFBLEtBQUssR0FBRyxLQUFLUixJQUFMLENBQVVVLENBQWxCO0FBQ0FELE1BQUFBLENBQUMs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R0FBdUNBLElBQXZDLEdBQTRDLE1BQTVDLElBQW9EVCxDQUFDLEdBQUMsQ0FBRixHQUFJQyxDQUFKLEdBQU0sQ0FBMUQsQ0FBVDtBQUNILEdBL0VJO0FBaUZMWSxFQUFBQSxRQWpGSyxvQkFpRkliLENBakZKLEVBaUZNQyxDQWpGTixFQWlGUTtBQUNULFFBQUdBLENBQUMsSUFBRSxDQUFOLEVBQVE7QUFDUixRQUFHYyxPQUFPLENBQUNmLENBQUQsQ0FBUCxDQUFXQyxDQUFYLEtBQWUsQ0FBZixJQUFrQmMsT0FBTyxDQUFDZixDQUFELENBQVAsQ0FBV0MsQ0FBWCxFQUFjZSxLQUFkLENBQW9CLENBQXBCLEVBQXNCLENBQXRCLEtBQTBCUCxJQUEvQyxFQUFvRDtBQUNwRHhCLElBQUFBLEVBQUUsQ0FBQ29CLElBQUgsQ0FBUSx5QkFBdUJJLElBQXZCLEdBQTRCLE1BQTVCLEdBQW1DLEdBQW5DLEdBQXVDQSxJQUF2QyxHQUE0QyxNQUE1QyxJQUFvRFQsQ0FBQyxHQUFDLENBQUYsR0FBSUMsQ0FBSixHQUFNLENBQTFELENBQVIsRUFBc0VLLE1BQXRFLEdBQStFLElBQS9FO0FBQ0FKLElBQUFBLEdBQUcsQ0FBQ2UsSUFBSixDQUFTLHlCQUF1QlIsSUFBdkIsR0FBNEIsTUFBNUIsR0FBbUMsR0FBbkMsR0FBdUNBLElBQXZDLEdBQTRDLE1BQTVDLElBQW9EVCxDQUFDLEdBQUMsQ0FBRixHQUFJQyxDQUFKLEdBQU0sQ0FBMUQsQ0FBVDtBQUNILEdBdEZJO0FBd0ZMaUIsRUFBQUEsS0F4RkssbUJBd0ZJLENBRVIsQ0ExRkksQ0E0Rkw7O0FBNUZLLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGNoZXNzVHlwZTpcIlwiXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULFxyXG4gICAgICAgICAgICBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHZhciBsb2NfeCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9jX3kgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdmFyIHggPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgbmFtZSA9IHRoaXMubm9kZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgbG9jX3ggPSB0aGlzLm5vZGUueDsvL+WunumZheWdkOagh1xyXG4gICAgICAgICAgICAgICAgbG9jX3kgPSB0aGlzLm5vZGUueTtcclxuICAgICAgICAgICAgICAgIHggPSBsb2NfeT4wPyhsb2NfeS0zMCkvNjArNToobG9jX3krMzApLzYwKzQ7Ly/pgLvovpHlnZDmoIdcclxuICAgICAgICAgICAgICAgIHkgPSBsb2NfeC82OCs0O1xyXG4gICAgICAgICAgICAgICAgdGlwLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZmluZChpdGVtKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGlwLnNwbGljZSgwLHRpcC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgaWYoaG9zdD09dGhpcy5jaGVzc1R5cGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGN1ck5hbWUgPSB0aGlzLm5vZGUubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmNoZXNzVHlwZT09J3InKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoeDw1KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuenVfdG9wKHgrMSx5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnp1X3RvcCh4KzEseSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnp1X2xlZnQoeCx5LTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy56dV9yaWdodCh4LHkrMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoeD40KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuenVfYm90dG9tKHgtMSx5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnp1X2JvdHRvbSh4LTEseSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnp1X2xlZnQoeCx5LTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy56dV9yaWdodCh4LHkrMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sdGhpcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIHNob3coeCx5KXtcclxuICAgIC8vICAgICBpZihnYW1lTWFwW3hdW3ldIT0wJiZnYW1lTWFwW3hdW3ldLnN1YnN0cigwLDEpIT1ob3N0KXtcclxuICAgIC8vICAgICAgICAgY2MuZmluZChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvXCIraG9zdCtcIl9ib3hcIitcIi9cIitob3N0K1wiX2JveFwiKyh4KjkreSsxKSkuYWN0aXZlID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgdGlwLnB1c2goXCJDYW52YXMvZ2FtZV9iZy9ncmlkL1wiK2hvc3QrXCJfYm94XCIrXCIvXCIraG9zdCtcIl9ib3hcIisoeCo5K3krMSkpO1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIC8vICAgICB9O1xyXG4gICAgLy8gICAgIGNjLmZpbmQoXCJDYW52YXMvZ2FtZV9iZy9ncmlkL1wiK2hvc3QrXCJfYm94XCIrXCIvXCIraG9zdCtcIl9ib3hcIisoeCo5K3krMSkpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAvLyAgICAgdGlwLnB1c2goXCJDYW52YXMvZ2FtZV9iZy9ncmlkL1wiK2hvc3QrXCJfYm94XCIrXCIvXCIraG9zdCtcIl9ib3hcIisoeCo5K3krMSkpO1xyXG4gICAgLy8gICAgIHJldHVybiBmYWxzZTtcclxuICAgIC8vIH0sXHJcblxyXG4gICAgenVfdG9wKHgseSl7XHJcbiAgICAgICAgaWYoeD49MTApcmV0dXJuO1xyXG4gICAgICAgIGlmKGdhbWVNYXBbeF1beV0hPTAmJmdhbWVNYXBbeF1beV0uc2xpY2UoMCwxKT09aG9zdClyZXR1cm47XHJcbiAgICAgICAgY2MuZmluZChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvXCIraG9zdCtcIl9ib3hcIitcIi9cIitob3N0K1wiX2JveFwiKyh4KjkreSsxKSkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aXAucHVzaChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvXCIraG9zdCtcIl9ib3hcIitcIi9cIitob3N0K1wiX2JveFwiKyh4KjkreSsxKSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHp1X2JvdHRvbSh4LHkpe1xyXG4gICAgICAgIGlmKHg8MClyZXR1cm47XHJcbiAgICAgICAgaWYoZ2FtZU1hcFt4XVt5XSE9MCYmZ2FtZU1hcFt4XVt5XS5zbGljZSgwLDEpPT1ob3N0KXJldHVybjtcclxuICAgICAgICBjYy5maW5kKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9cIitob3N0K1wiX2JveFwiK1wiL1wiK2hvc3QrXCJfYm94XCIrKHgqOSt5KzEpKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRpcC5wdXNoKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9cIitob3N0K1wiX2JveFwiK1wiL1wiK2hvc3QrXCJfYm94XCIrKHgqOSt5KzEpKTtcclxuICAgIH0sXHJcblxyXG4gICAgenVfbGVmdCh4LHkpe1xyXG4gICAgICAgIGlmKHk8MClyZXR1cm47XHJcbiAgICAgICAgaWYoZ2FtZU1hcFt4XVt5XSE9MCYmZ2FtZU1hcFt4XVt5XS5zbGljZSgwLDEpPT1ob3N0KXJldHVybjtcclxuICAgICAgICBjYy5maW5kKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9cIitob3N0K1wiX2JveFwiK1wiL1wiK2hvc3QrXCJfYm94XCIrKHgqOSt5KzEpKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRpcC5wdXNoKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9cIitob3N0K1wiX2JveFwiK1wiL1wiK2hvc3QrXCJfYm94XCIrKHgqOSt5KzEpKTtcclxuICAgIH0sXHJcblxyXG4gICAgenVfcmlnaHQoeCx5KXtcclxuICAgICAgICBpZih5Pj05KXJldHVybjtcclxuICAgICAgICBpZihnYW1lTWFwW3hdW3ldIT0wJiZnYW1lTWFwW3hdW3ldLnNsaWNlKDAsMSk9PWhvc3QpcmV0dXJuO1xyXG4gICAgICAgIGNjLmZpbmQoXCJDYW52YXMvZ2FtZV9iZy9ncmlkL1wiK2hvc3QrXCJfYm94XCIrXCIvXCIraG9zdCtcIl9ib3hcIisoeCo5K3krMSkpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGlwLnB1c2goXCJDYW52YXMvZ2FtZV9iZy9ncmlkL1wiK2hvc3QrXCJfYm94XCIrXCIvXCIraG9zdCtcIl9ib3hcIisoeCo5K3krMSkpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fSxcclxufSk7XHJcbiJdfQ==