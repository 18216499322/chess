
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/Forgive.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c32c0qJRfhB0b+wba7rSPDg', 'Forgive');
// script/Forgive.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    chessType: ""
  },
  // LIFE-CYCLE CALLBACKS:
  // onLoad () {},
  start: function start() {},
  forgive: function forgive() {
    if (stack.length > 0) {
      var hasChess = true;
      var chess1 = null;
      var chess2 = null;
      var chess3 = null;
      var chess4 = null;
      var node1 = null;
      var node2 = null;
      var node3 = null;
      var node4 = null;
      stack.forEach(function (item) {
        if (item.name.slice(0, 1) == host) {
          hasChess = false;
        }
      });
      if (hasChess && host === this.chessType) return; //去掉所有的提示棋子

      tip.forEach(function (item) {
        cc.find(item).active = false;
      });
      tip.splice(0, tip.length);

      if (host == this.chessType) {
        chess1 = stack.pop();
        chess2 = stack.pop();
        chess3 = stack.pop();
        chess4 = stack.pop();

        if (chess1.enemyName != null) {
          node1 = cc.find("Canvas/game_bg/grid/chess/" + chess1.name);
          node1.x = chess2.x;
          node1.y = chess2.y;
          cc.find("Canvas/game_bg/grid/chess/" + chess1.enemyName).active = true;
          gameMap[chess1.i][chess1.j] = chess1.enemyName;
          gameMap[chess2.i][chess2.j] = chess1.name;
        } else {
          node2 = cc.find("Canvas/game_bg/grid/chess/" + chess1.name);
          node2.x = chess2.x;
          node2.y = chess2.y;
          gameMap[chess1.i][chess1.j] = 0;
          gameMap[chess2.i][chess2.j] = chess1.name;
        }

        if (chess3.enemyName != null) {
          node3 = cc.find("Canvas/game_bg/grid/chess/" + chess3.name);
          node3.x = chess4.x;
          node3.y = chess4.y;
          cc.find("Canvas/game_bg/grid/chess/" + chess3.enemyName).active = true;
          gameMap[chess3.i][chess3.j] = chess3.enemyName;
          gameMap[chess4.i][chess4.j] = chess3.name;
        } else {
          node4 = cc.find("Canvas/game_bg/grid/chess/" + chess3.name);
          node4.x = chess4.x;
          node4.y = chess4.y;
          gameMap[chess3.i][chess3.j] = 0;
          gameMap[chess4.i][chess4.j] = chess3.name;
        }
      } else {
        chess1 = stack.pop();
        chess2 = stack.pop();

        if (chess1.enemyName != null) {
          node1 = cc.find("Canvas/game_bg/grid/chess/" + chess1.name);
          node1.x = chess2.x;
          node1.y = chess2.y;
          cc.find("Canvas/game_bg/grid/chess/" + chess1.enemyName).active = true;
          gameMap[chess1.i][chess1.j] = chess1.enemyName;
          gameMap[chess2.i][chess2.j] = chess1.name;
        } else {
          node2 = cc.find("Canvas/game_bg/grid/chess/" + chess1.name);
          node2.x = chess2.x;
          node2.y = chess2.y;
          gameMap[chess1.i][chess1.j] = 0;
          gameMap[chess2.i][chess2.j] = chess1.name;
        }

        if (host == 'r') {
          host = 'b';
        } else {
          host = 'r';
        }
      }
    }
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0XFxGb3JnaXZlLmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiY2hlc3NUeXBlIiwic3RhcnQiLCJmb3JnaXZlIiwic3RhY2siLCJsZW5ndGgiLCJoYXNDaGVzcyIsImNoZXNzMSIsImNoZXNzMiIsImNoZXNzMyIsImNoZXNzNCIsIm5vZGUxIiwibm9kZTIiLCJub2RlMyIsIm5vZGU0IiwiZm9yRWFjaCIsIml0ZW0iLCJuYW1lIiwic2xpY2UiLCJob3N0IiwidGlwIiwiZmluZCIsImFjdGl2ZSIsInNwbGljZSIsInBvcCIsImVuZW15TmFtZSIsIngiLCJ5IiwiZ2FtZU1hcCIsImkiLCJqIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBQSxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNMLGFBQVNELEVBQUUsQ0FBQ0UsU0FEUDtBQUdMQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsU0FBUyxFQUFDO0FBREYsR0FIUDtBQU9MO0FBRUE7QUFFQUMsRUFBQUEsS0FYSyxtQkFXSSxDQUVSLENBYkk7QUFlTEMsRUFBQUEsT0FmSyxxQkFlSTtBQUNMLFFBQUdDLEtBQUssQ0FBQ0MsTUFBTixHQUFhLENBQWhCLEVBQWtCO0FBQ2QsVUFBSUMsUUFBUSxHQUFHLElBQWY7QUFDQSxVQUFJQyxNQUFNLEdBQUcsSUFBYjtBQUNBLFVBQUlDLE1BQU0sR0FBRyxJQUFiO0FBQ0EsVUFBSUMsTUFBTSxHQUFHLElBQWI7QUFDQSxVQUFJQyxNQUFNLEdBQUcsSUFBYjtBQUNBLFVBQUlDLEtBQUssR0FBRyxJQUFaO0FBQ0EsVUFBSUMsS0FBSyxHQUFHLElBQVo7QUFDQSxVQUFJQyxLQUFLLEdBQUcsSUFBWjtBQUNBLFVBQUlDLEtBQUssR0FBRyxJQUFaO0FBQ0FWLE1BQUFBLEtBQUssQ0FBQ1csT0FBTixDQUFjLFVBQVNDLElBQVQsRUFBYztBQUN4QixZQUFHQSxJQUFJLENBQUNDLElBQUws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OUIsVUFBQUEsRUFBRSxDQUFDd0IsSUFBSCxDQUFRLCtCQUE2QmQsTUFBTSxDQUFDa0IsU0FBNUMsRUFBdURILE1BQXZELEdBQWdFLElBQWhFO0FBQ0FNLFVBQUFBLE9BQU8sQ0FBQ3JCLE1BQU0sQ0FBQ3NCLENBQVIsQ0FBUCxDQUFrQnRCLE1BQU0sQ0FBQ3VCLENBQXpCLElBQThCdkIsTUFBTSxDQUFDa0IsU0FBckM7QUFDQUcsVUFBQUEsT0FBTyxDQUFDcEIsTUFBTSxDQUFDcUIsQ0FBUixDQUFQLENBQWtCckIsTUFBTSxDQUFDc0IsQ0FBekIsSUFBOEJ2QixNQUFNLENBQUNVLElBQXJDO0FBQ0gsU0FQRCxNQU9LO0FBQ0RMLFVBQUFBLEtBQUssR0FBR2YsRUFBRSxDQUFDd0IsSUFBSCxDQUFRLCtCQUE2QmQsTUFBTSxDQUFDVSxJQUE1QyxDQUFSO0FBQ0FMLFVBQUFBLEtBQUssQ0FBQ2MsQ0FBTixHQUFVbEIsTUFBTSxDQUFDa0IsQ0FBakI7QUFDQWQsVUFBQUEsS0FBSyxDQUFDZSxDQUFOLEdBQVVuQixNQUFNLENBQUNtQixDQUFqQjtBQUNBQyxVQUFBQSxPQUFPLENBQUNyQixNQUFNLENBQUNzQixDQUFSLENBQVAsQ0FBa0J0QixNQUFNLENBQUN1QixDQUF6QixJQUE4QixDQUE5QjtBQUNBRixVQUFBQSxPQUFPLENBQUNwQixNQUFNLENBQUNxQixDQUFSLENBQVAsQ0FBa0JyQixNQUFNLENBQUNzQixDQUF6QixJQUE4QnZCLE1BQU0sQ0FBQ1UsSUFBckM7QUFDSDs7QUFDRCxZQUFHRSxJQUFJLElBQUksR0FBWCxFQUFlO0FBQ1hBLFVBQUFBLElBQUksR0FBRyxHQUFQO0FBQ0gsU0FGRCxNQUVLO0FBQ0RBLFVBQUFBLElBQUksR0FBRyxHQUFQO0FBQ0g7QUFDSjtBQUNKO0FBQ0osR0E5RkksQ0FnR0w7O0FBaEdLLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGNoZXNzVHlwZTpcIlwiXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fSxcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICBmb3JnaXZlKCl7XHJcbiAgICAgICAgaWYoc3RhY2subGVuZ3RoPjApe1xyXG4gICAgICAgICAgICB2YXIgaGFzQ2hlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgY2hlc3MxID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIGNoZXNzMiA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBjaGVzczMgPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgY2hlc3M0ID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIG5vZGUxID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIG5vZGUyID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIG5vZGUzID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIG5vZGU0ID0gbnVsbDtcclxuICAgICAgICAgICAgc3RhY2suZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0ubmFtZS5zbGljZSgwLDEpPT1ob3N0KXtcclxuICAgICAgICAgICAgICAgICAgICBoYXNDaGVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZihoYXNDaGVzcyYmaG9zdD09PXRoaXMuY2hlc3NUeXBlKXJldHVybjtcclxuICAgICAgICAgICAgLy/ljrvmjonmiYDmnInnmoTmj5DnpLrmo4vlrZBcclxuICAgICAgICAgICAgdGlwLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgICAgICBjYy5maW5kKGl0ZW0pLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGlwLnNwbGljZSgwLHRpcC5sZW5ndGgpO1xyXG4gICAgICAgICAgICBpZihob3N0PT10aGlzLmNoZXNzVHlwZSl7XHJcbiAgICAgICAgICAgICAgICBjaGVzczEgPSBzdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGNoZXNzMiA9IHN0YWNrLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgY2hlc3MzID0gc3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBjaGVzczQgPSBzdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGlmKGNoZXNzMS5lbmVteU5hbWUhPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUxID0gY2MuZmluZChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvY2hlc3MvXCIrY2hlc3MxLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUxLnggPSBjaGVzczIueDtcclxuICAgICAgICAgICAgICAgICAgICBub2RlMS55ID0gY2hlc3MyLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZmluZChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvY2hlc3MvXCIrY2hlc3MxLmVuZW15TmFtZSkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lTWFwW2NoZXNzMS5pXVtjaGVzczEual0gPSBjaGVzczEuZW5lbXlOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVNYXBbY2hlc3MyLmldW2NoZXNzMi5qXSA9IGNoZXNzMS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZTIgPSBjYy5maW5kKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9jaGVzcy9cIitjaGVzczEubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZTIueCA9IGNoZXNzMi54O1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUyLnkgPSBjaGVzczIueTtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lTWFwW2NoZXNzMS5pXVtjaGVzczEual0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVNYXBbY2hlc3MyLmldW2NoZXNzMi5qXSA9IGNoZXNzMS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoY2hlc3MzLmVuZW15TmFtZSE9bnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZTMgPSBjYy5maW5kKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9jaGVzcy9cIitjaGVzczMubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZTMueCA9IGNoZXNzNC54O1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUzLnkgPSBjaGVzczQueTtcclxuICAgICAgICAgICAgICAgICAgICBjYy5maW5kKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9jaGVzcy9cIitjaGVzczMuZW5lbXlOYW1lKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVNYXBbY2hlc3MzLmldW2NoZXNzMy5qXSA9IGNoZXNzMy5lbmVteU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZU1hcFtjaGVzczQuaV1bY2hlc3M0LmpdID0gY2hlc3MzLm5hbWU7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBub2RlNCA9IGNjLmZpbmQoXCJDYW52YXMvZ2FtZV9iZy9ncmlkL2NoZXNzL1wiK2NoZXNzMy5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlNC54ID0gY2hlc3M0Lng7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZTQueSA9IGNoZXNzNC55O1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVNYXBbY2hlc3MzLmldW2NoZXNzMy5qXSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZU1hcFtjaGVzczQuaV1bY2hlc3M0LmpdID0gY2hlc3MzLm5hbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgY2hlc3MxID0gc3RhY2sucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBjaGVzczIgPSBzdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGlmKGNoZXNzMS5lbmVteU5hbWUhPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUxID0gY2MuZmluZChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvY2hlc3MvXCIrY2hlc3MxLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUxLnggPSBjaGVzczIueDtcclxuICAgICAgICAgICAgICAgICAgICBub2RlMS55ID0gY2hlc3MyLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuZmluZChcIkNhbnZhcy9nYW1lX2JnL2dyaWQvY2hlc3MvXCIrY2hlc3MxLmVuZW15TmFtZSkuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lTWFwW2NoZXNzMS5pXVtjaGVzczEual0gPSBjaGVzczEuZW5lbXlOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVNYXBbY2hlc3MyLmldW2NoZXNzMi5qXSA9IGNoZXNzMS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZTIgPSBjYy5maW5kKFwiQ2FudmFzL2dhbWVfYmcvZ3JpZC9jaGVzcy9cIitjaGVzczEubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZTIueCA9IGNoZXNzMi54O1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUyLnkgPSBjaGVzczIueTtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lTWFwW2NoZXNzMS5pXVtjaGVzczEual0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVNYXBbY2hlc3MyLmldW2NoZXNzMi5qXSA9IGNoZXNzMS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoaG9zdCA9PSAncicpe1xyXG4gICAgICAgICAgICAgICAgICAgIGhvc3QgPSAnYic7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBob3N0ID0gJ3InO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9LFxyXG59KTtcclxuIl19