{"version":3,"sources":["assets\\script\\Pao.js"],"names":["cc","Class","Component","properties","chessType","onLoad","node","on","Node","EventType","TOUCH_START","e","name","loc_x","loc_y","x","y","tip","forEach","item","find","active","splice","length","host","curName","top","bottom","left","right","show","push","k","gameMap","substr","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        chessType:\"\"\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START,\r\n            function(e){\r\n                var name = null;\r\n                var loc_x = null;\r\n                var loc_y = null;\r\n                var x = null;\r\n                var y = null;\r\n                name = this.node.name;\r\n                loc_x = this.node.x;//实际坐标\r\n                loc_y = this.node.y;\r\n                x = loc_y>0?(loc_y-30)/60+5:(loc_y+30)/60+4;//逻辑坐标\r\n                y = loc_x/68+4;\r\n                tip.forEach(function(item){\r\n                    cc.find(item).active = false;\r\n                });\r\n                tip.splice(0,tip.length);\r\n                if(host==this.chessType){\r\n                    curName = this.node.name;\r\n                    this.top(x+1,y,0);\r\n                    this.bottom(x-1,y,0);\r\n                    this.left(x,y-1,0);\r\n                    this.right(x,y+1,0);\r\n                }\r\n            },this);\r\n    },\r\n\r\n    show(x,y){\r\n        cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1)).active = true;\r\n        tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1));\r\n        return;\r\n    },\r\n\r\n    top(x,y,k){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(0,1)!=host){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1));\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        if(k==0){\r\n            this.show(x,y);\r\n        }\r\n        this.top(x+1,y,k);\r\n    },\r\n\r\n    bottom(x,y,k){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(0,1)!=host){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1));\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        if(k==0){\r\n            this.show(x,y);\r\n        }\r\n        this.bottom(x-1,y,k);\r\n    },\r\n\r\n    left(x,y,k){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(0,1)!=host){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1));\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        if(k==0){\r\n            this.show(x,y);\r\n        }\r\n        this.left(x,y-1,k);\r\n    },\r\n\r\n    right(x,y,k){\r\n        if(y>=9)return;\r\n        // if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)==host)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(0,1)!=host){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1));\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        if(k==0){\r\n            this.show(x,y);\r\n        }\r\n        this.right(x,y+1,k);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}