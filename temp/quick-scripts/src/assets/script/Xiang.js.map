{"version":3,"sources":["assets\\script\\Xiang.js"],"names":["cc","Class","Component","properties","chessType","onLoad","node","on","Node","EventType","TOUCH_START","e","name","loc_x","loc_y","x","y","tip","forEach","item","find","active","splice","length","host","curName","xiang_right_top","xiang_right_bottom","xiang_left_top","xiang_left_bottom","gameMap","slice","push","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        chessType:\"\"\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START,\r\n            function(e){\r\n                var name = null;\r\n                var loc_x = null;\r\n                var loc_y = null;\r\n                var x = null;\r\n                var y = null;\r\n                name = this.node.name;\r\n                loc_x = this.node.x;//实际坐标\r\n                loc_y = this.node.y;\r\n                x = loc_y>0?(loc_y-30)/60+5:(loc_y+30)/60+4;//逻辑坐标\r\n                y = loc_x/68+4;\r\n                tip.forEach(function(item){\r\n                    cc.find(item).active = false;\r\n                });\r\n                tip.splice(0,tip.length);\r\n                if(host==this.chessType){\r\n                    curName = this.node.name;\r\n                    this.xiang_right_top(x,y);//x+1,y+1\r\n                    this.xiang_right_bottom(x,y);//x-1,y+1\r\n                    this.xiang_left_top(x,y);//x+1,y-1\r\n                    this.xiang_left_bottom(x,y);//x-1,y-1\r\n                }\r\n            },this);\r\n    },\r\n\r\n    xiang_right_top(x,y){\r\n        if((x>=5?(x+2<=9?true:false):(x+2<=4?true:false))&&y+2<=8&&gameMap[x+1][y+1]==0&&(gameMap[x+2][y+2]==0||gameMap[x+2][y+2].slice(0,1)!=host)){\r\n            cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+2)*9+y+3)).active = true;\r\n            tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+2)*9+y+3));\r\n        }\r\n    },\r\n\r\n    xiang_right_bottom(x,y){\r\n        if((x>=5?(x-2>=5?true:false):(x-2>=0?true:false))&&y+2<=8&&gameMap[x-1][y+1]==0&&(gameMap[x-2][y+2]==0||gameMap[x-2][y+2].slice(0,1)!=host)){\r\n            cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-2)*9+y+3)).active = true;\r\n            tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-2)*9+y+3));\r\n        }\r\n    },\r\n\r\n    xiang_left_top(x,y){\r\n        if((x>=5?(x+2<=9?true:false):(x+2<=4?true:false))&&y-2>=0&&gameMap[x+1][y-1]==0&&(gameMap[x+2][y-2]==0||gameMap[x+2][y-2].slice(0,1)!=host)){\r\n            cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+2)*9+y-1)).active = true;\r\n            tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+2)*9+y-1));\r\n        }\r\n    },\r\n\r\n    xiang_left_bottom(x,y){\r\n        if((x>=5?(x-2>=5?true:false):(x-2>=0?true:false))&&y-2>=0&&gameMap[x-1][y-1]==0&&(gameMap[x-2][y-2]==0||gameMap[x-2][y-2].slice(0,1)!=host)){\r\n            cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-2)*9+y-1)).active = true;\r\n            tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-2)*9+y-1));\r\n        }\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}