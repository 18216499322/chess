{"version":3,"sources":["assets\\script\\Tip.js"],"names":["cc","Class","Component","properties","onLoad","node","on","Node","EventType","TOUCH_START","e","enemyName","des_x","x","des_y","y","pre_node","find","curName","pre_x","pre_y","cur_i","cur_j","pre_i","pre_j","gameMap","active","substr","getComponent","playWin","host","playEat","playMove","tip","forEach","item","splice","length","pre_obj","i","j","name","cur_obj","stack","push","top","bottom","left","right","ma_top","ma_bottom","ma_left","ma_right","pao_top","pao_bottom","pao_left","pao_right","zu_top","zu_bottom","zu_left","zu_right","slice","k","playPromote","show","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START,\r\n            function(e){\r\n                enemyName = null;\r\n                des_x = this.node.x;//目标位置\r\n                des_y = this.node.y;\r\n                pre_node = cc.find(\"Canvas/game_bg/grid/chess/\"+curName);\r\n                pre_x = pre_node.x;\r\n                pre_y = pre_node.y;\r\n                //检查当前位置是否有敌方棋子\r\n                cur_i = des_y>0?(des_y-30)/60+5:(des_y+30)/60+4;//目标逻辑坐标\r\n                cur_j = des_x/68+4;\r\n                pre_i = pre_y>0?(pre_y-30)/60+5:(pre_y+30)/60+4;//先前逻辑坐标\r\n                pre_j = pre_x/68+4;\r\n                if(gameMap[cur_i][cur_j]!=0){\r\n                    cc.find(\"Canvas/game_bg/grid/chess/\"+gameMap[cur_i][cur_j]).active = false;\r\n                    enemyName = gameMap[cur_i][cur_j];\r\n                    if(gameMap[cur_i][cur_j].substr(2,1)=='j'){\r\n                        cc.find(\"music\").getComponent(\"Music\").playWin();\r\n                        cc.find(\"Canvas/game_bg/end_\"+host).active = true;\r\n                    }else{\r\n                        cc.find(\"music\").getComponent(\"Music\").playEat();\r\n                    }\r\n                }else{\r\n                    cc.find(\"music\").getComponent(\"Music\").playMove();\r\n                }\r\n                pre_node.x = des_x;\r\n                pre_node.y = des_y;\r\n                gameMap[pre_i][pre_j] = 0;\r\n                gameMap[cur_i][cur_j] = curName;\r\n                //去掉所有的提示棋子\r\n                tip.forEach(function(item){\r\n                    cc.find(item).active = false;\r\n                });\r\n                tip.splice(0,tip.length);\r\n                //移动信息存放栈内\r\n                pre_obj = {\r\n                    x:pre_x,\r\n                    y:pre_y,\r\n                    i:pre_i,\r\n                    j:pre_j,\r\n                    name:curName\r\n                };\r\n                cur_obj = {\r\n                    x:des_x,\r\n                    y:des_y,\r\n                    i:cur_i,\r\n                    j:cur_j,\r\n                    name:curName,\r\n                    enemyName:enemyName\r\n                };\r\n                stack.push(pre_obj);\r\n                stack.push(cur_obj);\r\n                if(host == 'r'){\r\n                    host = 'b';\r\n                }else{\r\n                    host = 'r';\r\n                }\r\n                if(curName.substr(2,1)=='c'){\r\n                    this.top(cur_i+1,cur_j);\r\n                    this.bottom(cur_i-1,cur_j);\r\n                    this.left(cur_i,cur_j-1);\r\n                    this.right(cur_i,cur_j+1);\r\n                }\r\n                if(curName.substr(2,1)=='m'){\r\n                    this.ma_top(cur_i+1,cur_j);\r\n                    this.ma_bottom(cur_i-1,cur_j);\r\n                    this.ma_left(cur_i,cur_j-1);\r\n                    this.ma_right(cur_i,cur_j+1);\r\n                }\r\n                if(curName.substr(2,1)=='p'){\r\n                    this.pao_top(cur_i+1,cur_j,0);\r\n                    this.pao_bottom(cur_i-1,cur_j,0);\r\n                    this.pao_left(cur_i,cur_j-1,0);\r\n                    this.pao_right(cur_i,cur_j+1,0);\r\n                }\r\n                if(curName.substr(2,1)=='z'){\r\n                    this.zu_top(cur_i+1,cur_j,0);\r\n                    this.zu_bottom(cur_i-1,cur_j,0);\r\n                    this.zu_left(cur_i,cur_j-1,0);\r\n                    this.zu_right(cur_i,cur_j+1,0);\r\n                }\r\n            },this);\r\n    },\r\n\r\n    zu_top(x,y){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)==host)return;\r\n        cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1)).active = true;\r\n        tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1));\r\n    },\r\n\r\n    zu_bottom(x,y){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)==host)return;\r\n        cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1)).active = true;\r\n        tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1));\r\n    },\r\n\r\n    zu_left(x,y){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)==host)return;\r\n        cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1)).active = true;\r\n        tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1));\r\n    },\r\n\r\n    zu_right(x,y){\r\n        if(y>=9)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)==host)return;\r\n        cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1)).active = true;\r\n        tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+(x*9+y+1));\r\n    },\r\n\r\n    pao_top(x,y,k){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_top(x+1,y,k);\r\n    },\r\n\r\n    pao_bottom(x,y,k){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_bottom(x-1,y,k);\r\n    },\r\n\r\n    pao_left(x,y,k){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_left(x,y-1,k);\r\n    },\r\n\r\n    pao_right(x,y,k){\r\n        if(y>=9)return;\r\n        // if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)==host)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_right(x,y+1,k);\r\n    },\r\n\r\n    ma_top(x,y){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(y-1>=0){\r\n            if(x+1<=9){\r\n                if(gameMap[x+1][y-1]!=0&&gameMap[x+1][y-1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(y+1<=8){\r\n            if(x+1<=9){\r\n                if(gameMap[x+1][y+1]!=0&&gameMap[x+1][y+1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    ma_bottom(x,y){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(y-1>=0){\r\n            if(x-1>=0){\r\n                if(gameMap[x-1][y-1]!=0&&gameMap[x-1][y-1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(y+1<=8){\r\n            if(x-1>=0){\r\n                if(gameMap[x-1][y+1]!=0&&gameMap[x-1][y+1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    ma_left(x,y){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(x+1<=9){\r\n            if(y-1>=0){\r\n                if(gameMap[x+1][y-1]!=0&&gameMap[x+1][y-1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(x-1>=0){\r\n            if(y-1>=0){\r\n                if(gameMap[x-1][y-1]!=0&&gameMap[x-1][y-1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote(); \r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    ma_right(x,y){\r\n        if(y>=9)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(x+1<=9){\r\n            if(y+1<=8){\r\n                if(gameMap[x+1][y+1]!=0&&gameMap[x+1][y+1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(x-1>=0){\r\n            if(y+1<=8){\r\n                if(gameMap[x-1][y+1]!=0&&gameMap[x-1][y+1].substr(2,1)=='j'){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    show(x,y){\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(0,1)==host){\r\n            if(gameMap[x][y].substr(2,1)=='j'){\r\n                cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            }\r\n            return true;\r\n        };\r\n        return false;\r\n    },\r\n\r\n    top(x,y){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.top(x+1,y);\r\n    },\r\n\r\n    bottom(x,y){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.bottom(x-1,y);\r\n    },\r\n\r\n    left(x,y){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.left(x,y-1);\r\n    },\r\n\r\n    right(x,y){\r\n        if(y>=9)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.right(x,y+1);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}