{"version":3,"sources":["assets\\script\\Tip.js"],"names":["cc","Class","Component","properties","onLoad","node","on","Node","EventType","TOUCH_START","e","enemyName","des_x","des_y","pre_x","pre_y","cur_i","cur_j","pre_i","pre_j","pre_node","myJiang","enemyJiang","mj_x","mj_y","mj_i","mj_j","j_x","j_y","j_i","j_j","pre_obj","cur_obj","x","y","find","curName","gameMap","active","substr","getComponent","playWin","host","playEat","playMove","tip","forEach","item","splice","length","i","j","name","stack","push","top","bottom","left","right","ma_top","ma_bottom","ma_left","ma_right","pao_top","pao_bottom","pao_left","pao_right","zu_top","zu_left","zu_right","zu_bottom","hasChess","playPromote","k","show","slice","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START,\r\n            function(e){\r\n                var enemyName = null;\r\n                var des_x = null;\r\n                var des_y = null;\r\n                var pre_x = null;\r\n                var pre_y = null;\r\n                var cur_i = null;\r\n                var cur_j = null;\r\n                var pre_i = null;\r\n                var pre_j = null;\r\n                var pre_node = null;\r\n                var myJiang = null;\r\n                var enemyJiang = null;\r\n                var mj_x = null;\r\n                var mj_y = null;\r\n                var mj_i = null;//目标逻辑坐标\r\n                var mj_j = null;\r\n                var j_x = null;\r\n                var j_y = null;\r\n                var j_i = null;//目标逻辑坐标\r\n                var j_j = null;\r\n                var pre_obj = null;\r\n                var cur_obj = null;\r\n\r\n                des_x = this.node.x;//目标位置\r\n                des_y = this.node.y;\r\n                pre_node = cc.find(\"Canvas/game_bg/grid/chess/\"+curName);\r\n                pre_x = pre_node.x;\r\n                pre_y = pre_node.y;\r\n                //检查当前位置是否有敌方棋子\r\n                cur_i = des_y>0?(des_y-30)/60+5:(des_y+30)/60+4;//目标逻辑坐标\r\n                cur_j = des_x/68+4;\r\n                pre_i = pre_y>0?(pre_y-30)/60+5:(pre_y+30)/60+4;//先前逻辑坐标\r\n                pre_j = pre_x/68+4;\r\n                if(gameMap[cur_i][cur_j]!=0){\r\n                    cc.find(\"Canvas/game_bg/grid/chess/\"+gameMap[cur_i][cur_j]).active = false;\r\n                    enemyName = gameMap[cur_i][cur_j];\r\n                    if(gameMap[cur_i][cur_j].substr(2,1)=='j'){\r\n                        cc.find(\"music\").getComponent(\"Music\").playWin();\r\n                        cc.find(\"Canvas/game_bg/end_\"+host).active = true;\r\n                        return;\r\n                    }else{\r\n                        cc.find(\"music\").getComponent(\"Music\").playEat();\r\n                    }\r\n                }else{\r\n                    cc.find(\"music\").getComponent(\"Music\").playMove();\r\n                }\r\n                pre_node.x = des_x;\r\n                pre_node.y = des_y;\r\n                gameMap[pre_i][pre_j] = 0;\r\n                gameMap[cur_i][cur_j] = curName;\r\n                //去掉所有的提示棋子\r\n                tip.forEach(function(item){\r\n                    cc.find(item).active = false;\r\n                });\r\n                tip.splice(0,tip.length);\r\n                //移动信息存放栈内\r\n                pre_obj = {\r\n                    x:pre_x,\r\n                    y:pre_y,\r\n                    i:pre_i,\r\n                    j:pre_j,\r\n                    name:curName\r\n                };\r\n                cur_obj = {\r\n                    x:des_x,\r\n                    y:des_y,\r\n                    i:cur_i,\r\n                    j:cur_j,\r\n                    name:curName,\r\n                    enemyName:enemyName\r\n                };\r\n                stack.push(pre_obj);\r\n                stack.push(cur_obj);\r\n                myJiang = cc.find(\"Canvas/game_bg/grid/chess/\"+host+\"_j\");\r\n                mj_x = myJiang.x;\r\n                mj_y = myJiang.y;\r\n                mj_i = mj_y>0?(mj_y-30)/60+5:(mj_y+30)/60+4;//目标逻辑坐标\r\n                mj_j = mj_x/68+4;\r\n                if(host == 'r'){\r\n                    host = 'b';\r\n                }else{\r\n                    host = 'r';\r\n                }\r\n                if(curName.substr(2,1)=='c'){\r\n                    this.top(cur_i+1,cur_j);\r\n                    this.bottom(cur_i-1,cur_j);\r\n                    this.left(cur_i,cur_j-1);\r\n                    this.right(cur_i,cur_j+1);\r\n                }\r\n                if(curName.substr(2,1)=='m'){\r\n                    this.ma_top(cur_i+1,cur_j);\r\n                    this.ma_bottom(cur_i-1,cur_j);\r\n                    this.ma_left(cur_i,cur_j-1);\r\n                    this.ma_right(cur_i,cur_j+1);\r\n                }\r\n                if(curName.substr(2,1)=='p'){\r\n                    this.pao_top(cur_i+1,cur_j,0);\r\n                    this.pao_bottom(cur_i-1,cur_j,0);\r\n                    this.pao_left(cur_i,cur_j-1,0);\r\n                    this.pao_right(cur_i,cur_j+1,0);\r\n                }\r\n                if(curName.substr(2,1)=='z'){\r\n                    if(host=='b'){\r\n                        this.zu_top(cur_i+1,cur_j);\r\n                        this.zu_left(cur_i,cur_j-1);\r\n                        this.zu_right(cur_i,cur_j+1);\r\n                    }else{\r\n                        this.zu_bottom(cur_i-1,cur_j);\r\n                        this.zu_left(cur_i,cur_j-1);\r\n                        this.zu_right(cur_i,cur_j+1);\r\n                    }\r\n                }\r\n                enemyJiang = cc.find(\"Canvas/game_bg/grid/chess/\"+host+\"_j\");\r\n                j_x = enemyJiang.x;\r\n                j_y = enemyJiang.y;\r\n                j_i = j_y>0?(j_y-30)/60+5:(j_y+30)/60+4;//目标逻辑坐标\r\n                j_j = j_x/68+4;\r\n                if(curName.substr(2,1)=='j'){\r\n                    if(cur_j==j_j){\r\n                        var hasChess = true;\r\n                        for(var i=(j_i>cur_i?cur_i+1:j_i+1);i<=(j_i>cur_i?j_i-1:cur_i-1);i++){\r\n                            if(gameMap[i][cur_j]!=0){\r\n                                hasChess = false;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if(hasChess){\r\n                            cc.find(\"music\").getComponent(\"Music\").playWin();\r\n                            cc.find(\"Canvas/game_bg/end_\"+host).active = true;\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                if(pre_j==j_j&&mj_j==j_j){\r\n                    var hasChess = true;\r\n                    for(var i=(j_i>mj_i?mj_i+1:j_i+1);i<=(j_i>mj_i?j_i-1:mj_i-1);i++){\r\n                        if(gameMap[i][pre_j]!=0){\r\n                            hasChess = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(hasChess){\r\n                        cc.find(\"music\").getComponent(\"Music\").playWin();\r\n                        cc.find(\"Canvas/game_bg/end_\"+host).active = true;\r\n                    }\r\n                }\r\n            },this);\r\n    },\r\n\r\n    zu_top(x,y){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n            cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            return;\r\n        }\r\n    },\r\n\r\n    zu_bottom(x,y){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n            cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            return;\r\n        }\r\n    },\r\n\r\n    zu_left(x,y){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n            cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            return;\r\n        }\r\n    },\r\n\r\n    zu_right(x,y){\r\n        if(y>=9)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n            cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            return;\r\n        }\r\n    },\r\n\r\n    pao_top(x,y,k){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_top(x+1,y,k);\r\n    },\r\n\r\n    pao_bottom(x,y,k){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_bottom(x-1,y,k);\r\n    },\r\n\r\n    pao_left(x,y,k){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_left(x,y-1,k);\r\n    },\r\n\r\n    pao_right(x,y,k){\r\n        if(y>=9)return;\r\n        // if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)==host)return;\r\n        if(gameMap[x][y]!=0){//&&gameMap[x][y].substr(0,1)!=host\r\n            if(k==1){\r\n                if(gameMap[x][y]!=0&&gameMap[x][y].substr(2,1)=='j'&&gameMap[x][y].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                    return;\r\n                }\r\n            }\r\n            k++;\r\n        };\r\n        this.pao_right(x,y+1,k);\r\n    },\r\n\r\n    ma_top(x,y){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(y-1>=0){\r\n            if(x+1<=9){\r\n                if(gameMap[x+1][y-1]!=0&&gameMap[x+1][y-1].substr(2,1)=='j'&&gameMap[x+1][y-1].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(y+1<=8){\r\n            if(x+1<=9){\r\n                if(gameMap[x+1][y+1]!=0&&gameMap[x+1][y+1].substr(2,1)=='j'&&gameMap[x+1][y-1].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    ma_bottom(x,y){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(y-1>=0){\r\n            if(x-1>=0){\r\n                if(gameMap[x-1][y-1]!=0&&gameMap[x-1][y-1].substr(2,1)=='j'&&gameMap[x+1][y-1].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(y+1<=8){\r\n            if(x-1>=0){\r\n                if(gameMap[x-1][y+1]!=0&&gameMap[x-1][y+1].substr(2,1)=='j'&&gameMap[x+1][y-1].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    ma_left(x,y){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(x+1<=9){\r\n            if(y-1>=0){\r\n                if(gameMap[x+1][y-1]!=0&&gameMap[x+1][y-1].substr(2,1)=='j'&&gameMap[x+1][y-1].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(x-1>=0){\r\n            if(y-1>=0){\r\n                if(gameMap[x-1][y-1]!=0&&gameMap[x-1][y-1].substr(2,1)=='j'&&gameMap[x+1][y-1].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote(); \r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    ma_right(x,y){\r\n        if(y>=9)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(x+1<=9){\r\n            if(y+1<=8){\r\n                if(gameMap[x+1][y+1]!=0&&gameMap[x+1][y+1].substr(2,1)=='j'&&gameMap[x+1][y-1].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n        if(x-1>=0){\r\n            if(y+1<=8){\r\n                if(gameMap[x-1][y+1]!=0&&gameMap[x-1][y+1].substr(2,1)=='j'&&gameMap[x+1][y-1].substr(0,1)==host){\r\n                    cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    show(x,y){\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].substr(0,1)==host){\r\n            if(gameMap[x][y].substr(2,1)=='j'){\r\n                cc.find(\"music\").getComponent(\"Music\").playPromote();\r\n            }\r\n            return true;\r\n        };\r\n        return false;\r\n    },\r\n\r\n    top(x,y){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.top(x+1,y);\r\n    },\r\n\r\n    bottom(x,y){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.bottom(x-1,y);\r\n    },\r\n\r\n    left(x,y){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.left(x,y-1);\r\n    },\r\n\r\n    right(x,y){\r\n        if(y>=9)return;\r\n        if(gameMap[x][y]!=0&&gameMap[x][y].slice(0,1)!=host)return;\r\n        if(this.show(x,y))return;\r\n        this.right(x,y+1);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}