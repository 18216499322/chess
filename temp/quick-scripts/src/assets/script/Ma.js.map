{"version":3,"sources":["assets\\script\\Ma.js"],"names":["cc","Class","Component","properties","chessType","onLoad","node","on","Node","EventType","TOUCH_START","e","name","loc_x","x","loc_y","y","tip","forEach","item","find","active","splice","length","host","curName","top","bottom","left","right","gameMap","slice","push","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        chessType:\"\"\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on(cc.Node.EventType.TOUCH_START,\r\n            function(e){\r\n                name = this.node.name;\r\n                loc_x = this.node.x;//实际坐标\r\n                loc_y = this.node.y;\r\n                x = loc_y>0?(loc_y-30)/60+5:(loc_y+30)/60+4;//逻辑坐标\r\n                y = loc_x/68+4;\r\n                tip.forEach(function(item){\r\n                    cc.find(item).active = false;\r\n                });\r\n                tip.splice(0,tip.length);\r\n                if(host==this.chessType){\r\n                    curName = this.node.name;\r\n                    this.top(x+1,y);\r\n                    this.bottom(x-1,y);\r\n                    this.left(x,y-1);\r\n                    this.right(x,y+1);\r\n                }\r\n            },this);\r\n    },\r\n\r\n    top(x,y){\r\n        if(x>=10)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(y-1>=0){\r\n            if(x+1<=9){\r\n                if(gameMap[x+1][y-1]!=0&&gameMap[x+1][y-1].slice(0,1)!=host||gameMap[x+1][y-1]==0){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+1)*9+y)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+1)*9+y));\r\n                }\r\n            }\r\n        }\r\n        if(y+1<=8){\r\n            if(x+1<=9){\r\n                if(gameMap[x+1][y+1]!=0&&gameMap[x+1][y+1].slice(0,1)!=host||gameMap[x+1][y+1]==0){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+1)*9+y+2)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+1)*9+y+2));\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    bottom(x,y){\r\n        if(x<0)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(y-1>=0){\r\n            if(x-1>=0){\r\n                if(gameMap[x-1][y-1]!=0&&gameMap[x-1][y-1].slice(0,1)!=host||gameMap[x-1][y-1]==0){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-1)*9+y)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-1)*9+y));\r\n                }\r\n            }\r\n        }\r\n        if(y+1<=8){\r\n            if(x-1>=0){\r\n                if(gameMap[x-1][y+1]!=0&&gameMap[x-1][y+1].slice(0,1)!=host||gameMap[x-1][y+1]==0){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-1)*9+y+2)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-1)*9+y+2));\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    left(x,y){\r\n        if(y<0)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(x+1<=9){\r\n            if(y-1>=0){\r\n                if(gameMap[x+1][y-1]!=0&&gameMap[x+1][y-1].slice(0,1)!=host||gameMap[x+1][y-1]==0){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+1)*9+y)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+1)*9+y));\r\n                }\r\n            }\r\n        }\r\n        if(x-1>=0){\r\n            if(y-1>=0){\r\n                if(gameMap[x-1][y-1]!=0&&gameMap[x-1][y-1].slice(0,1)!=host||gameMap[x-1][y-1]==0){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-1)*9+y)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-1)*9+y)); \r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    right(x,y){\r\n        if(y>=9)return;\r\n        if(gameMap[x][y]!=0)return;\r\n        if(x+1<=9){\r\n            if(y+1<=8){\r\n                if(gameMap[x+1][y+1]!=0&&gameMap[x+1][y+1].slice(0,1)!=host||gameMap[x+1][y+1]==0){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+1)*9+y+2)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x+1)*9+y+2));\r\n                }\r\n            }\r\n        }\r\n        if(x-1>=0){\r\n            if(y+1<=8){\r\n                if(gameMap[x-1][y+1]!=0&&gameMap[x-1][y+1].slice(0,1)!=host||gameMap[x-1][y+1]==0){\r\n                    cc.find(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-1)*9+y+2)).active = true;\r\n                    tip.push(\"Canvas/game_bg/grid/\"+host+\"_box\"+\"/\"+host+\"_box\"+((x-1)*9+y+2));\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}